services:
  nfq_sylius_omnisend_plugin.event_subscriber.customer:
    class: NFQ\SyliusOmnisendPlugin\EventSubscriber\CustomerSubscriber
    arguments:
      - '@messenger.routable_message_bus'
      - '@sylius.context.channel.composite'
    tags:
      - { name: kernel.event_subscriber }

  nfq_sylius_omnisend_plugin.event_subscriber.taxon:
    class: NFQ\SyliusOmnisendPlugin\EventSubscriber\TaxonSubscriber
    arguments:
      - '@messenger.routable_message_bus'
      - '@sylius.context.channel.composite'
    tags:
      - { name: kernel.event_subscriber }

  nfq_sylius_omnisend_plugin.event_subscriber.cart:
    class: NFQ\SyliusOmnisendPlugin\EventSubscriber\CartSubscriber
    arguments:
      - '@messenger.routable_message_bus'
      - '@sylius.context.cart.composite'
      - '@nfq_sylius_omnisend_plugin.resolver.contact_id'
    tags:
      - { name: kernel.event_subscriber }
    public: true

  nfq_sylius_omnisend_plugin.event_subscriber.order:
    class: NFQ\SyliusOmnisendPlugin\EventSubscriber\OrderSubscriber
    arguments:
      - '@messenger.routable_message_bus'
      - '@sylius.repository.order'
    tags:
      - { name: kernel.event_subscriber }
    public: true
